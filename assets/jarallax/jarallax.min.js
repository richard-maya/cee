/*!
 * Name    : Just Another Parallax [Jarallax]
 * Version : 1.7.1
 * Author  : _nK https://nkdev.info
 * GitHub  : https://github.com/nk-o/jarallax
 */
(function(f){if(!Date.now){Date.now=function(){return new Date().getTime()}}if(!f.requestAnimationFrame){(function(){var x=["webkit","moz"];for(var v=0;v<x.length&&!f.requestAnimationFrame;++v){var u=x[v];f.requestAnimationFrame=f[u+"RequestAnimationFrame"];f.cancelAnimationFrame=f[u+"CancelAnimationFrame"]||f[u+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(f.navigator.userAgent)||!f.requestAnimationFrame||!f.cancelAnimationFrame){var w=0;f.requestAnimationFrame=function(A){var z=Date.now();var y=Math.max(w+16,z);return setTimeout(function(){A(w=y)},y-z)};f.cancelAnimationFrame=clearTimeout}}())}var j=(function(){if(!f.getComputedStyle){return false}var w=document.createElement("p"),x,v={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(w,null);for(var u in v){if(typeof w.style[u]!=="undefined"){w.style[u]="translate3d(1px,1px,1px)";x=f.getComputedStyle(w).getPropertyValue(v[u])}}(document.body||document.documentElement).removeChild(w);return typeof x!=="undefined"&&x.length>0&&x!=="none"}());var r=navigator.userAgent.toLowerCase().indexOf("android")>-1;var n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!f.MSStream;var s=!!f.opera;var d=/Edge\/\d+/.test(navigator.userAgent);var h=/Trident.*rv[ :]*11\./.test(navigator.userAgent);var i=!!Function("/*@cc_on return document.documentMode===10@*/")();var p=document.all&&!f.atob;var o;var a;function k(){o=f.innerWidth||document.documentElement.clientWidth;a=f.innerHeight||document.documentElement.clientHeight}k();var b=[];var q=(function(){var u=0;function v(x,y){var A=this,z;A.$item=x;A.defaults={type:"scroll",speed:0.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:true,elementInViewport:null,zIndex:-100,noAndroid:false,noIos:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};z=JSON.parse(A.$item.getAttribute("data-jarallax")||"{}");A.options=A.extend({},A.defaults,z,y);if(r&&A.options.noAndroid||n&&A.options.noIos){return}A.options.speed=Math.min(2,Math.max(-1,parseFloat(A.options.speed)));var w=A.options.elementInViewport;if(w&&typeof w==="object"&&typeof w.length!=="undefined"){w=w[0]}if(!w instanceof Element){w=null}A.options.elementInViewport=w;A.instanceID=u++;A.image={src:A.options.imgSrc||null,$container:null,$item:null,width:A.options.imgWidth||null,height:A.options.imgHeight||null,useImgTag:n||r||s||h||i||d};if(A.initImg()){A.init()}}return v}());q.prototype.css=function(v,w){if(typeof w==="string"){if(f.getComputedStyle){return f.getComputedStyle(v).getPropertyValue(w)}return v.style[w]}if(w.transform){w.WebkitTransform=w.MozTransform=w.transform}for(var u in w){v.style[u]=w[u]}return v};q.prototype.extend=function(u){u=u||{};for(var w=1;w<arguments.length;w++){if(!arguments[w]){continue}for(var v in arguments[w]){if(arguments[w].hasOwnProperty(v)){u[v]=arguments[w][v]}}}return u};q.prototype.initImg=function(){var u=this;if(u.image.src===null){u.image.src=u.css(u.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")}return !(!u.image.src||u.image.src==="none")};q.prototype.init=function(){var z=this,u={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},w={position:"fixed"};z.image.$container=document.createElement("div");z.css(z.image.$container,u);z.css(z.image.$container,{visibility:"hidden","z-index":z.options.zIndex});z.image.$container.setAttribute("id","jarallax-container-"+z.instanceID);z.$item.appendChild(z.image.$container);if(z.image.useImgTag&&j&&z.options.enableTransform){z.image.$item=document.createElement("img");z.image.$item.setAttribute("src",z.image.src);w=z.extend({"max-width":"none"},u,w)}else{z.image.$item=document.createElement("div");w=z.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+z.image.src+'")'},u,w)}if(p){w.backgroundAttachment="fixed"}z.parentWithTransform=0;var y=z.$item;while(y!==null&&y!==document&&z.parentWithTransform===0){var x=z.css(y,"-webkit-transform")||z.css(y,"-moz-transform")||z.css(y,"transform");if(x&&x!=="none"){z.parentWithTransform=1;z.css(z.image.$container,{transform:"translateX(0) translateY(0)"})}y=y.parentNode}z.css(z.image.$item,w);z.image.$container.appendChild(z.image.$item);function v(){z.coverImage();z.clipContainer();z.onScroll(true);z.$item.setAttribute("data-jarallax-original-styles",z.$item.getAttribute("style"));if(z.options.onInit){z.options.onInit.call(z)}setTimeout(function(){if(z.$item){z.css(z.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}},0)}if(z.image.width&&z.image.height){v()}else{z.getImageSize(z.image.src,function(B,A){z.image.width=B;z.image.height=A;v()})}b.push(z)};q.prototype.destroy=function(){var y=this;for(var v=0,u=b.length;v<u;v++){if(b[v].instanceID===y.instanceID){b.splice(v,1);break}}var x=y.$item.getAttribute("data-jarallax-original-styles");y.$item.removeAttribute("data-jarallax-original-styles");if(x==="null"){y.$item.removeAttribute("style")}else{y.$item.setAttribute("style",x)}if(y.$clipStyles){y.$clipStyles.parentNode.removeChild(y.$clipStyles)}y.image.$container.parentNode.removeChild(y.image.$container);if(y.options.onDestroy){y.options.onDestroy.call(y)}delete y.$item.jarallax;for(var w in y){delete y[w]}};q.prototype.getImageSize=function(v,w){if(!v||!w){return}var u=new Image();u.onload=function(){w(u.width,u.height)};u.src=v};q.prototype.clipContainer=function(){if(p){return}var z=this,y=z.image.$container.getBoundingClientRect(),w=y.width,u=y.height;if(!z.$clipStyles){z.$clipStyles=document.createElement("style");z.$clipStyles.setAttribute("type","text/css");z.$clipStyles.setAttribute("id","#jarallax-clip-"+z.instanceID);var v=document.head||document.getElementsByTagName("head")[0];v.appendChild(z.$clipStyles)}var x=["#jarallax-container-"+z.instanceID+" {","   clip: rect(0 "+w+"px "+u+"px 0);","   clip: rect(0, "+w+"px, "+u+"px, 0);","}"].join("\n");if(z.$clipStyles.styleSheet){z.$clipStyles.styleSheet.cssText=x}else{z.$clipStyles.innerHTML=x}};q.prototype.coverImage=function(){var A=this;if(!A.image.width||!A.image.height){return}var F=A.image.$container.getBoundingClientRect(),u=F.width,G=F.height,C=F.left,D=A.image.width,y=A.image.height,v=A.options.speed,z=A.options.type==="scroll"||A.options.type==="scroll-opacity",E=0,B=0,x=G,w=0,H=0;if(z){E=v*(G+a)/2;if(v<0||v>1){E=v*Math.max(G,a)/2}if(v<0||v>1){x=Math.max(G,a)+Math.abs(E)*2}else{x+=Math.abs(a-G)*(1-v)}}B=x*D/y;if(B<u){B=u;x=B*y/D}A.bgPosVerticalCenter=0;if(z&&x<a&&(!j||!A.options.enableTransform)){A.bgPosVerticalCenter=(a-x)/2;x=a}if(z){w=C+(u-B)/2;H=(a-x)/2}else{w=(u-B)/2;H=(G-x)/2}if(j&&A.options.enableTransform&&A.parentWithTransform){w-=C}A.parallaxScrollDistance=E;A.css(A.image.$item,{width:B+"px",height:x+"px",marginLeft:w+"px",marginTop:H+"px"});if(A.options.onCoverImage){A.options.onCoverImage.call(A)}};q.prototype.isVisible=function(){return this.isElementInViewport||false};q.prototype.onScroll=function(w){var E=this;if(!E.image.width||!E.image.height){return}var G=E.$item.getBoundingClientRect(),A=G.top,I=G.height,K={position:"absolute",visibility:"visible",backgroundPosition:"50% 50%"};var x=G;if(E.options.elementInViewport){x=E.options.elementInViewport.getBoundingClientRect()}E.isElementInViewport=x.bottom>=0&&x.right>=0&&x.top<=a&&x.left<=o;if(w?false:!E.isElementInViewport){return}var y=Math.max(0,A),J=Math.max(0,I+A),H=Math.max(0,-A),F=Math.max(0,A+I-a),B=Math.max(0,I-(A+I-a)),C=Math.max(0,-A+a-I),v=1-2*(a-A)/(a+I);var u=1;if(I<a){u=1-(H||F)/I}else{if(J<=a){u=J/a}else{if(B<=a){u=B/a}}}if(E.options.type==="opacity"||E.options.type==="scale-opacity"||E.options.type==="scroll-opacity"){K.transform="translate3d(0, 0, 0)";K.opacity=u}if(E.options.type==="scale"||E.options.type==="scale-opacity"){var z=1;if(E.options.speed<0){z-=E.options.speed*u}else{z+=E.options.speed*(1-u)}K.transform="scale("+z+") translate3d(0, 0, 0)"}if(E.options.type==="scroll"||E.options.type==="scroll-opacity"){var D=E.parallaxScrollDistance*v;if(j&&E.options.enableTransform){if(E.parentWithTransform){D-=A}K.transform="translate3d(0, "+D+"px, 0)"}else{if(E.image.useImgTag){K.top=D+"px"}else{if(E.bgPosVerticalCenter){D+=E.bgPosVerticalCenter}K.backgroundPosition="50% "+D+"px"}}K.position=p?"absolute":"fixed"}E.css(E.image.$item,K);if(E.options.onScroll){E.options.onScroll.call(E,{section:G,beforeTop:y,beforeTopEnd:J,afterTop:H,beforeBottom:F,beforeBottomEnd:B,afterBottom:C,visiblePercent:u,fromViewportCenter:v})}};function l(w,u,v){if(w.addEventListener){w.addEventListener(u,v)}else{w.attachEvent("on"+u,function(){v.call(w)})}}function g(u){f.requestAnimationFrame(function(){if(u.type!=="scroll"){k()}for(var w=0,v=b.length;w<v;w++){if(u.type!=="scroll"){b[w].coverImage();b[w].clipContainer()}b[w].onScroll()}})}l(f,"scroll",g);l(f,"resize",g);l(f,"orientationchange",g);l(f,"load",g);var c=function(w){if(typeof HTMLElement==="object"?w instanceof HTMLElement:w&&typeof w==="object"&&w!==null&&w.nodeType===1&&typeof w.nodeName==="string"){w=[w]}var z=arguments[1],y=Array.prototype.slice.call(arguments,2),u=w.length,v=0,x;for(v;v<u;v++){if(typeof z==="object"||typeof z==="undefined"){if(!w[v].jarallax){w[v].jarallax=new q(w[v],z)}}else{if(w[v].jarallax){x=w[v].jarallax[z].apply(w[v].jarallax,y)}}if(typeof x!=="undefined"){return x}}return w};c.constructor=q;var t=f.jarallax;f.jarallax=c;f.jarallax.noConflict=function(){f.jarallax=t;return this};if(typeof jQuery!=="undefined"){var m=function(){var u=arguments||[];Array.prototype.unshift.call(u,this);var v=c.apply(f,u);return typeof v!=="object"?v:this};m.constructor=q;var e=jQuery.fn.jarallax;jQuery.fn.jarallax=m;jQuery.fn.jarallax.noConflict=function(){jQuery.fn.jarallax=e;return this}}l(f,"DOMContentLoaded",function(){c(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window));